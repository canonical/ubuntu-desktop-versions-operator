type: charm
name: ubuntu-desktop-versions-operator
title: Ubuntu Desktop Versions
summary: A simple service to check if Ubuntu packages are up to date. 
description: |
  A simple service to check if Ubuntu packages are up to date. 

base: ubuntu@22.04
platforms:
  amd64:
  arm64:

parts:
  charm:
    plugin: uv
    source: .
    build-packages:
      - git
    build-snaps:
      - astral-uv
    override-build: |
      craftctl default
      git describe --always > $CRAFT_PART_INSTALL/version

charm-libs:
  - lib: operator_libs_linux.apt
    version: "0"

config:
  options:
    log-level:
      description: |
        Configures the log level of gunicorn.

        Acceptable values are: "info", "debug", "warning", "error" and "critical"
      default: "info"
      type: string

actions:
  generate-versions-report:
    description: |
      Manually trigger generation of package version comparison reports.
